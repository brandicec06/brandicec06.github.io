<!DOCTYPE html>
<hmtl>
	<head>
		<title>First Map</title>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="stylesheet.css">
		

		<script src="http://maps.googleapis.com/maps/api/js?sensor=true&amp;libraries=places"></script>
    <script>

    function initialize() {
      var mapOptions = {
        zoom: 8,
        center: new google.maps.LatLng(42.3581, -71.0636)
      };
      var map = new google.maps.Map(document.getElementById('map-canvas'),
        mapOptions);
    }

    google.maps.event.addDomListener(window, 'load', initialize);

    </script>

    <script>
    xhr = new XMLHttpRequest();
    xhr.open("get","http://developer.mbta.com/lib/rthr/red.json",true);
    xhr.onreadystatechange = function(){
     console.log(xhr.readyState);
     if(xhr.readyState == 4 && xhr.status==200){
      alert("Got data");
      data = xhr.responseText;
      document.getElementById("map-canvas").innerHTML = data;
    }
  }
  </script>
  <script>
  function getMyLocation() {
    lat = -99999;
    lng = -99999;
    elem = document.getElementById("map-canvas");
    if (navigator.geolocation) {
// the navigator.geolocation object is supported on your browser
console.log("Call before navigator.geolocation");
navigator.geolocation.getCurrentPosition(function(position) {
  console.log("Got location");
  lat = position.coords.latitude;
  lng = position.coords.longitude;
  elem.innerHTML = "<h1>You are in " + lat + ", " + lng + "</h1>";
});
console.log("Made the call to get location");
elem.innerHTML = "<h1>You are in " + lat + ", " + lng + "</h1>";
}
else {
  alert("Geolocation is not supported by your web browser. What a shame!");
}
}
</script>

</head>
<body>
  <div id="map-canvas"></div>
  <div id="loc"></div>
</body>

</hmtl>